<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>SSE 테스트</title>
</head>
<body>
<h1>SSE 이벤트 수신</h1>
<ul id="events"></ul>

<script>
    // EventSource(브라우저 내장 SSE 클라이언트 API)
    // Server‑Sent Events(서버→클라이언트 단방향 푸시)
    const es = new EventSource('/api/stream');

    // 메시지 이름이 "kafka-event"인 이벤트만 받음
    es.addEventListener('kafka-event', e => {
      const li = document.createElement('li');
      li.textContent = e.data;
      document.getElementById('events').appendChild(li);
    });

    es.onerror = err => console.error('SSE 에러', err);
</script>
</body>
</html>
